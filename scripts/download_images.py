import urllib
import urllib2
import os



categories_random = [ [2, "american-flag"], [63, "electric-guitar-101"], [56, "dog"], [24, "butterfly"], [15, "bonsai-101"], [25, "cactus"], [38, "chimp"], [60, "duck"], [53, "desk-globe"], [95, "hamburger"], [195, "soda-can"], [187, "skyscraper"], [150, "octopus"], [152, "owl"], [136, "mandolin"], [127, "laptop-101"], [80, "frog"], [29, "cannon"], [37, "chess-board"], [10, "beer-mug"], [246, "wine-bottle"], [250, "zebra"], [221, "tomato"], [113, "hummingbird"], [91, "grand-piano-101"], [87, "goldfish"], [86, "golden-gate-bridge"], [81, "frying-pan"], [57, "dolphin-101"], [46, "computer-monitor"], [22, "buddha-101"] ]

categories_animals = [ [7, "bat"], [9, "bear"], [15, "bonsai-101"], [24, "butterfly"], [25, "cactus"], [28, "camel"], [34, "centipede"], [38, "chimp"], [40, "cockroach"], [48, "conch"], [49, "cormorant"], [52, "crab-101"], [56, "dog"], [57, "dolphin-101"], [60, "duck"], [64, "elephant-101"], [65, "elk"], [68, "fern"], [80, "frog"], [84, "giraffe"], [85, "goat"], [89, "goose"], [90, "gorilla"], [93, "grasshopper"], [100, "hawksbill-101"], [103, "hibiscus"], [105, "horse"], [106, "horseshoe-crab"], [111, "house-fly"], [116, "iguana"], [113, "hummingbird"], [114, "ibis-101"], [118, "iris"], [124, "killer-whale"], [121, "kangaroo-101"], [129, "leopards-101"], [134, "llama-101"], [147, "mushroom"], [150, "octopus"], [151, "ostrich"], [152, "owl"], [154, "palm-tree"], [158, "penguin"], [164, "porcupine"], [166, "praying-mantis"], [168, "raccoon"], [179, "scorpion-101"], [186, "skunk"], [190, "snake"], [189, "snail"], [198, "spider"], [201, "starfish-101"], [204, "sunflower-101"], [207, "swan"], [254, "greyhound"], [221, "tomato"], [230, "trilobite-101"], [236, "unicorn"], [250, "zebra"], [256, "toad"], [228, "triceratops"] ]

categories_all = [ [1, "ak47"], [2, "american-flag"], [3, "backpack"], [4, "baseball-bat"], [5, "baseball-glove"], [6, "basketball-hoop"], [7, "bat"], [8, "bathtub"], [9, "bear"], [10, "beer-mug"], [11, "billiards"], [12, "binoculars"], [13, "birdbath"], [14, "blimp"], [15, "bonsai-101"], [16, "boom-box"], [17, "bowling-ball"], [18, "bowling-pin"], [19, "boxing-glove"], [20, "brain-101"], [21, "breadmaker"], [22, "buddha-101"], [23, "bulldozer"], [24, "butterfly"], [25, "cactus"], [26, "cake"], [27, "calculator"], [28, "camel"], [29, "cannon"], [30, "canoe"], [31, "car-tire"], [32, "cartman"], [33, "cd"], [34, "centipede"], [35, "cereal-box"], [36, "chandelier-101"], [37, "chess-board"], [38, "chimp"], [39, "chopsticks"], [40, "cockroach"], [41, "coffee-mug"], [42, "coffin"], [43, "coin"], [44, "comet"], [45, "computer-keyboard"], [46, "computer-monitor"], [47, "computer-mouse"], [48, "conch"], [49, "cormorant"], [50, "covered-wagon"], [51, "cowboy-hat"], [52, "crab-101"], [53, "desk-globe"], [54, "diamond-ring"], [55, "dice"], [56, "dog"], [57, "dolphin-101"], [58, "doorknob"], [59, "drinking-straw"], [60, "duck"], [61, "dumb-bell"], [62, "eiffel-tower"], [63, "electric-guitar-101"], [64, "elephant-101"], [65, "elk"], [66, "ewer-101"], [67, "eyeglasses"], [68, "fern"], [69, "fighter-jet"], [70, "fire-extinguisher"], [71, "fire-hydrant"], [72, "fire-truck"], [73, "fireworks"], [74, "flashlight"], [75, "floppy-disk"], [76, "football-helmet"], [77, "french-horn"], [78, "fried-egg"], [79, "frisbee"], [80, "frog"], [81, "frying-pan"], [82, "galaxy"], [83, "gas-pump"], [84, "giraffe"], [85, "goat"], [86, "golden-gate-bridge"], [87, "goldfish"], [88, "golf-ball"], [89, "goose"], [90, "gorilla"], [91, "grand-piano-101"], [92, "grapes"], [93, "grasshopper"], [94, "guitar-pick"], [95, "hamburger"], [96, "hammock"], [97, "harmonica"], [98, "harp"], [99, "harpsichord"], [100, "hawksbill-101"], [101, "head-phones"], [102, "helicopter-101"], [103, "hibiscus"], [104, "homer-simpson"], [105, "horse"], [106, "horseshoe-crab"], [107, "hot-air-balloon"], [108, "hot-dog"], [109, "hot-tub"], [110, "hourglass"], [111, "house-fly"], [112, "human-skeleton"], [113, "hummingbird"], [114, "ibis-101"], [115, "ice-cream-cone"], [116, "iguana"], [117, "ipod"], [118, "iris"], [119, "jesus-christ"], [120, "joy-stick"], [121, "kangaroo-101"], [122, "kayak"], [123, "ketch-101"], [124, "killer-whale"], [125, "knife"], [126, "ladder"], [127, "laptop-101"], [128, "lathe"], [129, "leopards-101"], [130, "license-plate"], [131, "lightbulb"], [132, "light-house"], [133, "lightning"], [134, "llama-101"], [135, "mailbox"], [136, "mandolin"], [137, "mars"], [138, "mattress"], [139, "megaphone"], [140, "menorah-101"], [141, "microscope"], [142, "microwave"], [143, "minaret"], [144, "minotaur"], [145, "motorbikes-101"], [146, "mountain-bike"], [147, "mushroom"], [148, "mussels"], [149, "necktie"], [150, "octopus"], [151, "ostrich"], [152, "owl"], [153, "palm-pilot"], [154, "palm-tree"], [155, "paperclip"], [156, "paper-shredder"], [157, "pci-card"], [158, "penguin"], [159, "people"], [160, "pez-dispenser"], [161, "photocopier"], [162, "picnic-table"], [163, "playing-card"], [164, "porcupine"], [165, "pram"], [166, "praying-mantis"], [167, "pyramid"], [168, "raccoon"], [169, "radio-telescope"], [170, "rainbow"], [171, "refrigerator"], [172, "revolver-101"], [173, "rifle"], [174, "rotary-phone"], [175, "roulette-wheel"], [176, "saddle"], [177, "saturn"], [178, "school-bus"], [179, "scorpion-101"], [180, "screwdriver"], [181, "segway"], [182, "self-propelled-lawn-mower"], [183, "sextant"], [184, "sheet-music"], [185, "skateboard"], [186, "skunk"], [187, "skyscraper"], [188, "smokestack"], [189, "snail"], [190, "snake"], [191, "sneaker"], [192, "snowmobile"], [193, "soccer-ball"], [194, "socks"], [195, "soda-can"], [196, "spaghetti"], [197, "speed-boat"], [198, "spider"], [199, "spoon"], [200, "stained-glass"], [201, "starfish-101"], [202, "steering-wheel"], [203, "stirrups"], [204, "sunflower-101"], [205, "superman"], [206, "sushi"], [207, "swan"], [208, "swiss-army-knife"], [209, "sword"], [210, "syringe"], [211, "tambourine"], [212, "teapot"], [213, "teddy-bear"], [214, "teepee"], [215, "telephone-box"], [216, "tennis-ball"], [217, "tennis-court"], [218, "tennis-racket"], [219, "theodolite"], [220, "toaster"], [221, "tomato"], [222, "tombstone"], [223, "top-hat"], [224, "touring-bike"], [225, "tower-pisa"], [226, "traffic-light"], [227, "treadmill"], [228, "triceratops"], [229, "tricycle"], [230, "trilobite-101"], [231, "tripod"], [232, "t-shirt"], [233, "tuning-fork"], [234, "tweezer"], [235, "umbrella-101"], [236, "unicorn"], [237, "vcr"], [238, "video-projector"], [239, "washing-machine"], [240, "watch-101"], [241, "waterfall"], [242, "watermelon"], [243, "welding-mask"], [244, "wheelbarrow"], [245, "windmill"], [246, "wine-bottle"], [247, "xylophone"], [248, "yarmulke"], [249, "yo-yo"], [250, "zebra"], [251, "airplanes-101"], [252, "car-side-101"], [253, "faces-easy-101"], [254, "greyhound"], [255, "tennis-shoes"], [256, "toad"], [257, "clutter"] ]


# set parameters
num_images_per_category = 500
root_dir = 'example-images/bin/data/all'
categories = categories_all


#run
cmd = 'mkdir %s' % root_dir
os.system(cmd)
url_root = 'http://www.vision.caltech.edu/Image_Datasets/Caltech256/images/'
for c in categories:
	for i in range(1,num_images_per_category+1):
		path = 'http://www.vision.caltech.edu/Image_Datasets/Caltech256/images/%03d.%s/%03d_%04d.jpg' % (c[0], c[1], c[0], i)
		try:
			urllib2.urlopen(path)
			urllib.urlretrieve(path, "%s/%s-%04d.jpg " % (root_dir, c[1], i))
			print "download %s"%path
		except urllib2.HTTPError, e:
			print(e.code)
		except urllib2.URLError, e:
			print(e.args)
		


